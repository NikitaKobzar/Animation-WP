{"version":3,"sources":["hero-slider.js","questionaire.js"],"names":["document","addEventListener","galleries","querySelectorAll","length","forEach","gallery","figures","Array","from","classList","add","fig","index","let","current","total","prevBtn","createElement","nextBtn","type","className","setAttribute","innerHTML","showSlide","i","idx","toggle","appendChild","btn","target","getAttribute","modal","querySelector","documentElement","e","closest","remove","key","m","quiz","steps","findIndex","s","contains","dataset","quizIndex","submitBtn","progressEl","updateUI","disabled","lastIndex","isFinal","hasAttribute","style","display","progress","width","goTo","delta","next"],"mappings":"AACAA,SAAAC,iBAAA,mBAAA,WACA,IAAAC,EAAAF,SAAAG,iBAAA,kCAAA,EAEAD,EAAAE,QAEAF,EAAAG,QAAA,SAAAC,GACA,IAAAC,EAAAC,MAAAC,KAAAH,EAAAH,iBAAA,uBAAA,CAAA,EAEA,GAAAI,EAAAH,OAGA,GAAA,IAAAG,EAAAH,OACAG,EAAA,GAAAG,UAAAC,IAAA,gBAAA,WAAA,MADA,CAKAJ,EAAAF,QAAA,SAAAO,EAAAC,GACAD,EAAAF,UAAAC,IAAA,eAAA,EACA,IAAAE,GAAAD,EAAAF,UAAAC,IAAA,WAAA,CACA,CAAA,EAEAG,IAAAC,EAAA,EACAC,EAAAT,EAAAH,OASA,IAAAa,EAAAjB,SAAAkB,cAAA,QAAA,EAYAC,GAXAF,EAAAG,KAAA,SACAH,EAAAI,UAAA,gDACAJ,EAAAK,aAAA,aAAA,gBAAA,EACAL,EAAAM;;;;;;UAQAvB,SAAAkB,cAAA,QAAA,GAnBA,SAAAM,EAAAC,GACAlB,EAAAF,QAAA,SAAAO,EAAAc,GACAd,EAAAF,UAAAiB,OAAA,YAAAD,IAAAD,CAAA,CACA,CAAA,CACA,CAgBAN,EAAAC,KAAA,SACAD,EAAAE,UAAA,gDACAF,EAAAG,aAAA,aAAA,eAAA,EACAH,EAAAI;;;;;;UAQAjB,EAAAsB,YAAAX,CAAA,EACAX,EAAAsB,YAAAT,CAAA,EAEAF,EAAAhB,iBAAA,QAAA,WAEAuB,EADAT,GAAAA,EAAA,EAAAC,GAAAA,CACA,CACA,CAAA,EAEAG,EAAAlB,iBAAA,QAAA,WAEAuB,EADAT,GAAAA,EAAA,GAAAC,CACA,CACA,CAAA,CApDA,CAqDA,CAAA,CACA,CAAA,ECrEAhB,SAAAC,iBAAA,mBAAA,KAIAD,SAAAG,iBAAA,eAAA,EAAAE,QAAAwB,IACAA,EAAA5B,iBAAA,QAAA,KACA,IAAA6B,EAAAD,EAAAE,aAAA,aAAA,GAAA,iBACAC,EAAAhC,SAAAiC,cAAAH,CAAA,EACAE,IACAA,EAAAtB,UAAAC,IAAA,SAAA,EACAX,SAAAkC,gBAAAxB,UAAAC,IAAA,cAAA,EACA,CAAA,CACA,CAAA,EAEAX,SAAAC,iBAAA,QAAA,IACAkC,EAAAL,OAAAM,QAAA,mBAAA,IACAJ,EAAAG,EAAAL,OAAAM,QAAA,gBAAA,KAEAJ,EAAAtB,UAAA2B,OAAA,SAAA,EACArC,SAAAkC,gBAAAxB,UAAA2B,OAAA,cAAA,EAEA,CAAA,EAEArC,SAAAC,iBAAA,UAAA,IACA,WAAAkC,EAAAG,MACAtC,SAAAG,iBAAA,wBAAA,EAAAE,QAAAkC,GAAAA,EAAA7B,UAAA2B,OAAA,SAAA,CAAA,EACArC,SAAAkC,gBAAAxB,UAAA2B,OAAA,cAAA,EAEA,CAAA,EAKArC,SAAAG,iBAAA,gBAAA,EAAAE,QAAAmC,IAEA,IAAAC,EAAAjC,MAAAC,KAAA+B,EAAArC,iBAAA,eAAA,CAAA,EACA,GAAAsC,EAAArC,OAAA,CAEAU,IAAAC,EAAA0B,EAAAC,UAAAC,GAAAA,EAAAjC,UAAAkC,SAAA,WAAA,CAAA,EAIA3B,GAHAF,EAAA,IAAAA,EAAA,GACA0B,EAAApC,QAAA,CAAAsC,EAAAlB,IAAAkB,EAAAE,QAAAC,UAAArB,CAAA,EAEAe,EAAAP,cAAA,kBAAA,GACAd,EAAAqB,EAAAP,cAAA,kBAAA,EACAc,EAAAP,EAAAP,cAAA,iBAAA,EACAe,EAAAR,EACAJ,QAAA,wBAAA,GACAH,cAAA,8BAAA,EAEA,SAAAgB,IACAR,EAAApC,QAAA,CAAAsC,EAAAlB,KACAkB,EAAAjC,UAAAiB,OAAA,YAAAF,IAAAV,CAAA,CACA,CAAA,EAEAE,IACAA,EAAAiC,SAAA,IAAAnC,GAGA,IAAAoC,EAAAV,EAAArC,OAAA,EACAgD,EAAAX,EAAA1B,GAAAsC,aAAA,iBAAA,GAAAtC,IAAAoC,EAEAhC,IACAA,EAAAmC,MAAAC,QAAAH,EAAA,OAAA,IAEAL,IACAA,EAAAX,QAAA,mBAAA,EAAAkB,MAAAC,QAAAH,EAAA,GAAA,QAGAJ,IACAQ,GAAAzC,EAAA,GAAA0B,EAAArC,OAAA,IACA4C,EAAAM,MAAAG,MAAAD,EAAA,IAEA,CAEA,SAAAE,EAAAC,GACAC,EAAA7C,EAAA4C,EACAC,EAAA,GAAAA,GAAAnB,EAAArC,SACAW,EAAA6C,EACAX,EAAA,EACA,CAEAhC,GAAAA,EAAAhB,iBAAA,QAAA,IAAAyD,EAAA,CAAA,CAAA,CAAA,EACAvC,GAAAA,EAAAlB,iBAAA,QAAA,IAAAyD,EAAA,CAAA,CAAA,EAGAT,EAAA,CAjDA,CAkDA,CAAA,CAKA,CAAA","file":"main.min.js","sourcesContent":["// Простенький слайдер для галереи с классом .wa-hero-slider\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    const galleries = document.querySelectorAll('.wa-hero-slider.wp-block-gallery');\r\n\r\n    if (!galleries.length) return;\r\n\r\n    galleries.forEach(function (gallery) {\r\n        const figures = Array.from(gallery.querySelectorAll('figure.wp-block-image'));\r\n\r\n        if (!figures.length) return;\r\n\r\n        // Если одна картинка – просто показываем её без стрелок\r\n        if (figures.length === 1) {\r\n            figures[0].classList.add('wa-hero-slide', 'is-active');\r\n            return;\r\n        }\r\n\r\n        figures.forEach(function (fig, index) {\r\n            fig.classList.add('wa-hero-slide');\r\n            if (index === 0) fig.classList.add('is-active');\r\n        });\r\n\r\n        let current = 0;\r\n        const total = figures.length;\r\n\r\n        function showSlide(i) {\r\n            figures.forEach(function (fig, idx) {\r\n                fig.classList.toggle('is-active', idx === i);\r\n            });\r\n        }\r\n\r\n        // Кнопки\r\n        const prevBtn = document.createElement('button');\r\n        prevBtn.type = 'button';\r\n        prevBtn.className = 'wa-hero-slider__nav wa-hero-slider__nav--prev';\r\n        prevBtn.setAttribute('aria-label', 'Попереднє фото');\r\n        prevBtn.innerHTML = `\r\n            <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n                <path d=\"M15.5 4.5L9 12l6.5 7.5\" fill=\"none\"\r\n                    stroke=\"currentColor\" stroke-width=\"2\"\r\n                    stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n            </svg>\r\n        `;\r\n\r\n        const nextBtn = document.createElement('button');\r\n        nextBtn.type = 'button';\r\n        nextBtn.className = 'wa-hero-slider__nav wa-hero-slider__nav--next';\r\n        nextBtn.setAttribute('aria-label', 'Наступне фото');\r\n        nextBtn.innerHTML = `\r\n            <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n                <path d=\"M8.5 4.5L15 12l-6.5 7.5\" fill=\"none\"\r\n                    stroke=\"currentColor\" stroke-width=\"2\"\r\n                    stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n            </svg>\r\n        `;\r\n\r\n        gallery.appendChild(prevBtn);\r\n        gallery.appendChild(nextBtn);\r\n\r\n        prevBtn.addEventListener('click', function () {\r\n            current = (current - 1 + total) % total;\r\n            showSlide(current);\r\n        });\r\n\r\n        nextBtn.addEventListener('click', function () {\r\n            current = (current + 1) % total;\r\n            showSlide(current);\r\n        });\r\n    });\r\n});\r\n","document.addEventListener('DOMContentLoaded', () => {\r\n\r\n    // ===== Открытие / закрытие модалки =====\r\n    function bindQuizModals() {\r\n        document.querySelectorAll('.wa-open-quiz').forEach(btn => {\r\n            btn.addEventListener('click', () => {\r\n                const target = btn.getAttribute('data-target') || '#wa-quiz-modal';\r\n                const modal = document.querySelector(target);\r\n                if (!modal) return;\r\n                modal.classList.add('is-open');\r\n                document.documentElement.classList.add('wa-quiz-lock');\r\n            });\r\n        });\r\n\r\n        document.addEventListener('click', (e) => {\r\n            if (e.target.closest('.js-wa-quiz-close')) {\r\n                const modal = e.target.closest('.wa-quiz-modal');\r\n                if (!modal) return;\r\n                modal.classList.remove('is-open');\r\n                document.documentElement.classList.remove('wa-quiz-lock');\r\n            }\r\n        });\r\n\r\n        document.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Escape') {\r\n                document.querySelectorAll('.wa-quiz-modal.is-open').forEach(m => m.classList.remove('is-open'));\r\n                document.documentElement.classList.remove('wa-quiz-lock');\r\n            }\r\n        });\r\n    }\r\n\r\n    // ===== Шаги =====\r\n    function initQuizSteps() {\r\n        document.querySelectorAll('[data-wa-quiz]').forEach(quiz => {\r\n\r\n            const steps   = Array.from(quiz.querySelectorAll('.wa-quiz-step'));\r\n            if (!steps.length) return;\r\n\r\n            let current = steps.findIndex(s => s.classList.contains('is-active'));\r\n            if (current < 0) current = 0;\r\n            steps.forEach((s, i) => s.dataset.quizIndex = i);\r\n\r\n            const prevBtn    = quiz.querySelector('.js-wa-quiz-prev');\r\n            const nextBtn    = quiz.querySelector('.js-wa-quiz-next');\r\n            const submitBtn  = quiz.querySelector('.wa-quiz-submit');\r\n            const progressEl = quiz\r\n                .closest('.wa-quiz-modal__dialog')\r\n                ?.querySelector('.wa-quiz-modal__progress-bar');\r\n\r\n            function updateUI() {\r\n                steps.forEach((s, i) => {\r\n                    s.classList.toggle('is-active', i === current);\r\n                });\r\n\r\n                if (prevBtn) {\r\n                    prevBtn.disabled = current === 0;\r\n                }\r\n\r\n                const lastIndex = steps.length - 1;\r\n                const isFinal   = steps[current].hasAttribute('data-quiz-final') || current === lastIndex;\r\n\r\n                if (nextBtn) {\r\n                    nextBtn.style.display = isFinal ? 'none' : '';\r\n                }\r\n                if (submitBtn) {\r\n                    submitBtn.closest('p,div,span,button').style.display = isFinal ? '' : 'none';\r\n                }\r\n\r\n                if (progressEl) {\r\n                    const progress = ((current + 1) / steps.length) * 100;\r\n                    progressEl.style.width = progress + '%';\r\n                }\r\n            }\r\n\r\n            function goTo(delta) {\r\n                const next = current + delta;\r\n                if (next < 0 || next >= steps.length) return;\r\n                current = next;\r\n                updateUI();\r\n            }\r\n\r\n            if (prevBtn) prevBtn.addEventListener('click', () => goTo(-1));\r\n            if (nextBtn) nextBtn.addEventListener('click', () => goTo(+1));\r\n\r\n            // Первый рендер\r\n            updateUI();\r\n        });\r\n    }\r\n\r\n    bindQuizModals();\r\n    initQuizSteps();\r\n});\r\n"]}